

	<h2 class="text-center" style="padding-top:60px">Packing</h2>
<div class="margin-top-20" style="padding:30px 0 10px 0" ng-if="!DONumber">
	<div class="margin-top-20 col-sm-8 col-sm-offset-2" >
	 <form role="form" name="toNoForm">
	  <div class="form-group">
	    <label for="woNo">Please scan/enter a DO Number:</label>
		<input type="text" class="form-control" id="DONumber" placeholder="scan/enter DO Number" 
			   ng-model="order.DONumber" focus-me="true">
	  </div>
	  
	  <button type="submit" class="btn btn-default" ng-click="submitForm()" ng-disabled="!order.DONumber">Submit</button>
	</form>
  </div>
  </div>

  <div class="margin-top-20 col-sm-3 no-padding-x"  ng-init="temp.showHU=order.HUList[0];temp.showHUIdx=0" ng-if="DONumber">

		<table class="table padding-top" style="background-color: #EEE">
		  	<thead> 
		  		<tr> 
		  			<th  class="text-left position-rel" colspan="2">
		  				HU list
		  				<a ng-if="order.confirmStatus!=='C'" data-toggle="tab" ng-click="addNewHu()" class="cursor-pointer add-button position-abs" style="right:7px">
							<i class=" fa  fa-plus-circle fa-6" style="font-size: 18px;margin-right:5px"></i>Add New HU
							<div class="clearfix"></div>
						</a>
		  			</th> 
		  		</tr> 
		  	</thead> 
		  	<tbody class=" block overflow-auto" style="max-height: 300px"> 
		  		<tr ng-repeat="(idx,item) in order.HUList" class="margin-right" ng-if="order.HUList.length>0" > 
						
		  			<td ng-class="{'hu-highlight':temp.showHU.HUNumber===item.HUNumber}">
						<a data-toggle="tab" class="full-height full-width pull-left block" ng-click="temp.showHU=item;temp.showHUIdx=idx" 
								ng-class="{'hu-highlight':temp.showHU.HUNumber===item.HUNumber,'cursor-pointer':temp.showHU.HUNumber!==item.HUNumber}">
										<i class="blue ace-icon fa bigger-120 pull-left" 
										ng-class="{'fa-file':temp.showHU.HUNumber===item.HUNumber,'fa-file-o':temp.showHU.HUNumber!==item.HUNumber}"></i>
										<span class='pull-left'>{{idx+1}} of {{order.HUList.length}}</span>
										
						</a>
						</td> 
						<td width="25%" ng-class="{'hu-highlight':temp.showHU.HUNumber===item.HUNumber}">
							{{item.scanQty||0}}
						</td>
		  			<td width="10%" ng-class="{'hu-highlight':temp.showHU.HUNumber===item.HUNumber}">
		  				<i class="text-danger fa fa-times-circle fa-lg cursor-pointer"
							ng-show="temp.showHU.HUNumber===item.HUNumber&&order.confirmStatus!='C'"
							confirm-required="{{item.HUNumber}}" 
							ng-click="removeHU(item.HUNumber)"></i> 
		  			</td>
		  		</tr>
		  		<tr ng-if="!order.HUList||order.HUList.length==0">
					<td colspan="2" class='empty-message no-border'>No Hu.</td>
				</tr>
		  	</tbody> 
		  	<tfoot ng-show="order.HUList.length>0">
		  		<tr>
		  			<td colspan="2" style="background-color: #777;color:#EEE" class="text-center" >
		  				Hotkey &#8679;+&uarr; and &#8679;+&darr;
		  			</td>
		  		</tr>
		  	</tfoot>
		  </table>
  </div>


  <div ng-init="showTab='orderDetail'" class=" col-sm-9 padding-top-20" ng-if="DONumber" >
  <!-- Nav tabs -->
  <ul class="nav nav-tabs " role="tablist">
		<li role="presentation" ng-class="{'active':showTab==='orderDetail'||order.HUList.length===0}"><a class="cursor-pointer" 
				ng-click="showTab='orderDetail'">Delivery Order Detail</a></li>
		<li role="presentation" ng-class="{'active':showTab==='scanItem'}" ng-show="order.HUList.length>0"><a class="cursor-pointer" 
				ng-click="showTab='scanItem'">Scan Item</a></li>
		<button type="button" class="btn btn-default pull-right" ng-click="refreshPacking()">Refresh</button>
  </ul>

  <!-- Tab panes -->
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane"  ng-class="{'active':showTab==='orderDetail'||order.HUList.length===0}" id="packing">
    	
		  <table class="table padding-top margin-top table-striped">
		  	<thead> 
		  		<tr> 
		  			<th  class="text-center" colspan="2" ng-show="order.HUList.length>0">
							<span>Selected HU:{{temp.showHUIdx+1}} of {{order.HUList.length}} </span>
							<span class="margin-left">HU Number: {{temp.showHU.HUNumber}}</span>
					</th> 
		  		</tr> 
		  	</thead> 
		  	<tbody> 
		  		<tr> 
		  			<td >DO No.</td> 
		  			<td>{{order.DONumber}}</td>
		  		</tr>
		  		<tr> 
		  			<td >Created By</td> 
		  			<td>{{order.DOCreationUser}}</td>
		  		</tr> 
		  		<tr> 
		  			<td >Created On</td> 
		  			<td>{{order.DOCreationDate|ymdDate:"dd MMM yyyy"}}</td>
		  		</tr> 
		  		<tr> 
		  			<td >Ship to Customer</td> 
		  			<td>{{order.ShipToCustomerName}}</td>
		  		</tr> 
		  		<!-- <tr> 
		  			<td >Shipping Point</td> 
		  			<td>{{order.ShippingPoint}}</td>
		  		</tr> 
		  		<tr> 
		  			<td >Plant</td> 
		  			<td>{{order.plannedItems[0].Plant}}</td>
		  		</tr>  -->
		  		<tr> 
		  			<td >Warehouse Number</td> 
		  			<td>{{order.WarehouseNo}}</td>
		  		</tr> 
		  		<tr> 
		  			<td >End Customer</td> 
		  			<td>{{order.endUser}}</td>
		  		</tr> 
		  		<tr> 
		  			<td >Packing Status</td> 
		  			<td>{{order.confirmStatus||'Not confirmed yet'}}</td>
		  		</tr> 
		  		<tr> 
		  			<td >Picking Status</td> 
		  			<td>{{order.pickingStatus||'Not done yet'}}</td>
		  		</tr> 
		  		<tr> 
		  			<td >PGI Status</td> 
		  			<td>{{order.pgiStatus||'Not done yet'}}</td>
		  		</tr> 
		  		<tr> 
		  			<td >Number of Items</td> 
		  			<td>{{order.plannedItems.length||0}}</td>
		  		</tr> 
		  		<tr ng-show="temp.showHU"> 
		  			<td >HU Number</td> 
		  			<td>{{temp.showHU.HUNumber}}</td>
		  		</tr> 
		  		<tr ng-show="temp.showHU"> 
		  			<td >HU Package Material</td> 
		  			<td>{{temp.showHU.PackMaterial}}</td>
		  		</tr> 
		  		<tr ng-show="temp.showHU"> 
		  			<td >HU Created By</td> 
		  			<td>{{temp.showHU.CreatedBy}}</td>
		  		</tr> 
		  		<tr ng-show="temp.showHU"> 
		  			<td >HU Create Date time</td> 
		  			<td>{{temp.showHU.CreatedOn|localDatetime}}</td>
		  		</tr> 
		  	</tbody> 
		  </table>
    </div>
    <div role="tabpanel" class="tab-pane" ng-class="{'active':showTab==='scanItem'}" id="scanItem"  ng-if="order.HUList.length>0">
			<table class="table padding-top table-striped" style="margin-bottom:5px">
		 <thead> 
			 <tr> 
					<th  class="text-center" colspan="2" ng-show="order.HUList.length>0">
						<span>Selected HU:{{temp.showHUIdx+1}} of {{order.HUList.length}} </span>
						<span class="margin-left">HU Number: {{temp.showHU.HUNumber}}</span>
					  </th> 
			 </tr> 
		 </thead> 
	 </table>
			<!-- <span scan-items info="info"></span> -->
			<div ng-include src="'partials/scan-items.html'"></div>
    	
    </div>
	  <!--confirm button-->
  	<div class="col-sm-4 col-xs-12 no-padding-x text-right margin-top">
		  <button type="button" class="col-xs-12 btn btn-primary btn-md" confirm-required action="confirm packing" 
		  ng-click="confirmPacking()" ng-disabled="!confirmReady||order.confirmStatus==='C'">
		  <span class="glyphicon glyphicon-star" aria-hidden="true"></span> Confirm Packing
		</button>
	</div>
	<div class="clearboth"></div>
  </div>

</div>
<div class="clearboth"></div>
<pre ng-show="debug">barcode:{{barcode | json}}</pre>	
<pre ng-show="debug">temp:{{temp | json}}</pre>	
<pre ng-show="debug">order:{{order | json}}</pre>	
<!-- <pre ng-show="debug">categories:{{categories | json}}</pre>	 -->